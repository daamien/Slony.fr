<?xml version="1.0" encoding="UTF-8"?>
<!-- Dernière modification
     le       $Date$
     par      $Author$
     révision $Revision$ -->

<sect1 id="cluster">
<title>Définir les clusters &slony1; </title>
<indexterm>  <primary>définition de cluster</primary> </indexterm>

<para>Un cluster  &slony1; est un simple regroupement d'instance de
  base de données dans lequel a lieu une réplication. Cela consiste
  en un ensemble d'instance de base de données &postgres; au sein duquel
  un namespace spécifique est défini. Par exemple, si un cluster est 
  appelé <envar>cbcluster</envar>, alors &slony1; définira lors de 
  l'initialisation de chaque noeud, un schéma nommé <command>_cbcluster</command>,
  dans lequel il crée de nombreuses tables qui stockent la configuration 
  de &slony1; et les informations sur l'état de la réplication.
  Consultez <xref linkend="schema"/> pour plus d'information sur 
  ce qui est stocké dans ce schéma. Plus précisément, les tables
  <xref linkend="table.sl-log-1"/> et <xref linkend="table.sl-log-2"/>
 tracent les modifications collectées sur le noeud d'origine afin
 qu'elles soient répliquées sur les noeuds abonnés.  </para>

<para>Chaque instance de base de données qui doit participer à la 
  réplication est identifiée par un numéro..</para>

<para>Pour une installation simple, il est raisonnable de nommer le
  noeud d'origine noeud #1 et le noeud abonné noeud #2.</para>

<para>Une réflexion doit être menée, dans des cas plus complexes,
  afin de s'assurer que le système de numérotation reste cohérent,
  sans quoi les administrateurs deviendront fous. Les numéros de noeud
  devraient être choisis pour qu'ils correspondent plus ou moins 
  à la structure du cluster, plutôt qu'à l'ordre d'initialisation
  des noeuds.</para>

<para> À partir de &slony1; version 1.1, les commandes <xref linkend="stmtinclude"/> et
<xref linkend="stmtdefine"/> vous permettent de créer une sorte de 
<quote>table de symboles</quote> en arrière-plan pour que les scripts
puissent utiliser des noms pour les noeuds plus que des numéros ésotériques.
</para>

</sect1>

